(function(){var n;n=function(){var n;return n=function(n){var u,e,r,t,a,o,i,l,s,c,f,p,d,h,v,y;if(i=n.host,u=n.apiKey,v=n.uploadMissing||!1,null==u)throw"please provide the apiKey";return a=""+(null!=i?"//"+i:"")+"/api/v2/projects/"+u+"/published_blurbs",p=""+(null!=i?"//"+i:"")+"/api/v2/projects/"+u+"/draft_blurbs/publish",s=!1,h={},e=[],r=function(){var n,u;for(u=[];n=e.shift();)u.push(n());return u},y=function(n,u){var e;return e={},e["en."+n]=u,jQuery.ajax({url:p,dataType:"jsonp",data:{blurbs:e}})},o=function(n){return!!c(n)},c=function(n){return h["en."+n]},l=function(n,u){var e,r,t;for(e in u)t=u[e],r=new RegExp("(.*)(?:%|{){"+e+"}}?(.*)","i"),r.test(n)&&(n=n.replace(r,"$1"+t+"$2"));return n},d=function(n,u){var e;return null==u&&(u={}),e=u.defaultValue,delete u.defaultValue,v&&!o(n)&&y(n,e),l(c(n)||e,u)},f=function(n){return s?n():e.push(n)},function(){var n;return n=jQuery.ajax({url:a,cache:!0,dataType:"jsonp"}),n.success(function(n){return h=n}),n.success(function(){return s=!0}),n.success(function(){return r()})}(),t={},t.translate=d,t.onTranslationsLoaded=f,t.hasTranslation=o,t.t=d,t},function(u){return n(u)}}(),"undefined"!=typeof window&&null!==window&&(window.CopyCopter=n),"undefined"!=typeof module&&null!==module&&(module.exports=n)}).call(this);